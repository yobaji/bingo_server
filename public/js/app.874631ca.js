(function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],f=0,h=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(h.length)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=n("2f62"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Loader"),e.playerNameSaved?e.room.myRoom?n("GameBoard"):n("MainPage"):n("SaveNameScreen")],1)},a=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gameBoardWrapper"},[n("Settings"),n("PlayersList"),n("div",{class:["mt-1","gameBoard",e.isMyturn?"myTurn":""]},[n("FinalGameStatus"),e._l(e.cellArray,(function(e,t){return n("Cell",{key:t,attrs:{cellData:e}})})),e.isIamNewPlayer?e._e():[e.Diagonal_1?n("div",{staticClass:"diagonal_1"}):e._e(),e.Diagonal_2?n("div",{staticClass:"diagonal_2"}):e._e(),e.VerticalStrikes.Vertical_1?n("div",{staticClass:"vertical_1"}):e._e(),e.VerticalStrikes.Vertical_2?n("div",{staticClass:"vertical_2"}):e._e(),e.VerticalStrikes.Vertical_3?n("div",{staticClass:"vertical_3"}):e._e(),e.VerticalStrikes.Vertical_4?n("div",{staticClass:"vertical_4"}):e._e(),e.VerticalStrikes.Vertical_5?n("div",{staticClass:"vertical_5"}):e._e(),e.HorizontalStrikes.Horizontal_1?n("div",{staticClass:"horizontal_1"}):e._e(),e.HorizontalStrikes.Horizontal_2?n("div",{staticClass:"horizontal_2"}):e._e(),e.HorizontalStrikes.Horizontal_3?n("div",{staticClass:"horizontal_3"}):e._e(),e.HorizontalStrikes.Horizontal_4?n("div",{staticClass:"horizontal_4"}):e._e(),e.HorizontalStrikes.Horizontal_5?n("div",{staticClass:"horizontal_5"}):e._e()]],2),n("BINGO")],1)},c=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settingsWrapper"},[n("div",{staticClass:"inner w-100 text-center pb-2"},[n("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(t){return e.leaveRoom()}}},[e._v("Leave Room")])],1),n("unicon",{attrs:{name:"angle-double-down",fill:"#555"}})],1)},l=[],f=(n("f4b3"),n("bf19"),n("76d3")),h={serverUrl:"wss://paper-bingo-server.herokuapp.com"},d=new f["a"].Client(h.serverUrl),p=(n("4160"),n("c975"),{getters:{Diagonal_1:function(e,t,n){var r=[1,7,13,19,25],o=t.allStrikedCells,i=!0;return r.forEach((function(e){o.indexOf(t.myCellArray[e-1].number)<0&&(i=!1)})),i},Diagonal_2:function(e,t,n){var r=[5,9,13,17,21],o=t.allStrikedCells,i=!0;return r.forEach((function(e){o.indexOf(t.myCellArray[e-1].number)<0&&(i=!1)})),i},Vertical_1:function(e,t,n){var r=[1,6,11,16,21],o=t.allStrikedCells,i=!0;return r.forEach((function(e){o.indexOf(t.myCellArray[e-1].number)<0&&(i=!1)})),i},Vertical_2:function(e,t,n){var r=[2,7,12,17,22],o=t.allStrikedCells,i=!0;return r.forEach((function(e){o.indexOf(t.myCellArray[e-1].number)<0&&(i=!1)})),i},Vertical_3:function(e,t,n){var r=[3,8,13,18,23],o=t.allStrikedCells,i=!0;return r.forEach((function(e){o.indexOf(t.myCellArray[e-1].number)<0&&(i=!1)})),i},Vertical_4:function(e,t,n){var r=[4,9,14,19,24],o=t.allStrikedCells,i=!0;return r.forEach((function(e){o.indexOf(t.myCellArray[e-1].number)<0&&(i=!1)})),i},Vertical_5:function(e,t,n){var r=[5,10,15,20,25],o=t.allStrikedCells,i=!0;return r.forEach((function(e){o.indexOf(t.myCellArray[e-1].number)<0&&(i=!1)})),i},Horizontal_1:function(e,t,n){var r=[1,2,3,4,5],o=t.allStrikedCells,i=!0;return r.forEach((function(e){o.indexOf(t.myCellArray[e-1].number)<0&&(i=!1)})),i},Horizontal_2:function(e,t,n){var r=[6,7,8,9,10],o=t.allStrikedCells,i=!0;return r.forEach((function(e){o.indexOf(t.myCellArray[e-1].number)<0&&(i=!1)})),i},Horizontal_3:function(e,t,n){var r=[11,12,13,14,15],o=t.allStrikedCells,i=!0;return r.forEach((function(e){o.indexOf(t.myCellArray[e-1].number)<0&&(i=!1)})),i},Horizontal_4:function(e,t,n){var r=[16,17,18,19,20],o=t.allStrikedCells,i=!0;return r.forEach((function(e){o.indexOf(t.myCellArray[e-1].number)<0&&(i=!1)})),i},Horizontal_5:function(e,t,n){var r=[21,22,23,24,25],o=t.allStrikedCells,i=!0;return r.forEach((function(e){o.indexOf(t.myCellArray[e-1].number)<0&&(i=!1)})),i},VerticalStrikes:function(e,t,n){return{Vertical_1:t.Vertical_1,Vertical_2:t.Vertical_2,Vertical_3:t.Vertical_3,Vertical_4:t.Vertical_4,Vertical_5:t.Vertical_5}},HorizontalStrikes:function(e,t,n){return{Horizontal_1:t.Horizontal_1,Horizontal_2:t.Horizontal_2,Horizontal_3:t.Horizontal_3,Horizontal_4:t.Horizontal_4,Horizontal_5:t.Horizontal_5}},BingoValue:function(e,t,n){if(t.isIamNewPlayer)return 0;for(var r=0,o=1;o<=2;o++)t["Diagonal_"+o]&&r++;for(o=1;o<=5;o++)t["Vertical_"+o]&&r++;for(o=1;o<=5;o++)t["Horizontal_"+o]&&r++;return r>=5?5:r}}});n("99af"),n("4de4"),n("b64b"),n("e25e"),n("a15b"),n("fb6a"),n("0d03"),n("d3b7"),n("25f0");function m(){var e=y(),t=["Chrome","Firefox"],n="ഹാക്ക് ചെയ്തതാ കൊല്ലും പന്നി 😀 !!!";t.indexOf(e)>=0?console.log("%c "+n,"padding:5px;background: #fdea18; color: #f206ab;border-radius:10px"):console.log(n)}function v(){var e=500,t=50,n=window.innerHeight-335,r=n;window.innerHeight>window.innerWidth&&(r=window.innerWidth,t=100),r<=e&&(r=e),r-=t,E.state.boardWidth=r,E.state.boardHeight=r}function y(){return window.opr&&opr.addons||window.opera||navigator.userAgent.indexOf(" OPR/")>=0?"Opera":window.chrome&&(window.chrome.webstore||window.chrome.runtime)?"Chrome":/constructor/i.test(window.HTMLElement)||function(e){return"[object SafariRemoteNotification]"===e.toString()}(!window["safari"]||"undefined"!==typeof safari&&safari.pushNotification)?"Safari":"undefined"!==typeof InstallTrigger?"Firefox":document.documentMode?"IE":window.StyleMedia?"Edge":"unknown"}var g={hackWarn:m,browserName:y,calculateSize:v};function _(e){var t=localStorage.getItem(e);try{return JSON.parse(t)}catch(n){return t}}function b(e,t){localStorage.setItem(e,JSON.stringify(t))}var w={get:_,set:b};function C(e,t){for(var n=e.slice(),r=0;r<e.length;r++){if(e[r]==t)break;n.push(n.shift())}return n}function O(e){if(!e.length)return"";if(1==e.length)return e[0];var t=e[e.length-1];return e.pop(),e.join(", ")+" and "+t}var S={browser:g,localStorage:w,createStatusText:O,rotateArray:C},P={state:{myRoom:null,myRoomId:null,myRoomAlias:null,myRoomCurrentPlayer:null,myRoomAdmin:null,playerTimeout:null,offlinePlayerTimeout:null,elapsedTime:null,mainRoomObject:null,bingoRoomObject:null,roomsList:[],gameStarted:!1,showCreateRoomBox:!1},mutations:{},getters:{myCellArray:function(e,t,n){return e.myRoom[n.player.id].cellArray},allStrikedCells:function(e,t,n){var r=[];for(var o in e.myRoom)r=r.concat(e.myRoom[o].strikedCells);return r},isMyturn:function(e,t,n){return e.myRoomCurrentPlayer==n.player.id&&e.gameStarted},isIamAdmin:function(e,t,n){return e.myRoomAdmin==n.player.id},playersCount:function(e,t,n){return Object.keys(e.myRoom).length},currentPlayerIndex:function(e,t,n){return Object.keys(e.myRoom).indexOf(e.myRoomCurrentPlayer)+1},totalPlayers:function(e,t,n){return Object.keys(e.myRoom).length},wonPlayersIds:function(e,t,n){return Object.keys(e.myRoom).filter((function(t){return e.myRoom[t].isWon}))},gameCompleted:function(e,t,n){return t.wonPlayersIds.length>0},didIwonTheGame:function(e,t,n){return t.wonPlayersIds.indexOf(n.player.id)>=0},isFirstGame:function(e,t,n){return!e.gameStarted&&!t.gameCompleted},highestScorePlayerIds:function(e,t,n){var r=0;for(var o in e.myRoom){var i=e.myRoom[o].winCount;i>r&&(r=i)}return 0==r?[]:Object.keys(e.myRoom).filter((function(t){return e.myRoom[t].winCount==r}))},getWonStatusText:function(e,t,n){var r=[];for(var o in e.myRoom)e.myRoom[o].isWon&&o!=n.player.id&&r.push(e.myRoom[o].playerName);var i=S.createStatusText(r);return t.didIwonTheGame?i+" also won !":i+" won the game!"},isIamNewPlayer:function(e,t,n){return t.gameCompleted&&!t.isFirstGame&&!e.myRoom[n.player.id].strikedCells.length},timeoutBarPercentage:function(e,t,n){var r=e.myRoom[e.myRoomCurrentPlayer].isOnline;return r?parseInt(100-e.elapsedTime/e.playerTimeout*100):parseInt(100-e.elapsedTime/e.offlinePlayerTimeout*100)},orderedPlayerIds:function(e,t,n){var r=Object.keys(e.myRoom);return S.rotateArray(r,n.player.id)}}},k=(n("a4d3"),n("b0c0"),n("e439"),n("dbb4"),n("159b"),n("2fa7"));function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach((function(t){Object(k["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t=S.localStorage.get("player");t&&(e.playerNameSaved=!0,e.id=t.id,e.name=t.name)},R=function(e,t){var n=S.localStorage.get("player");S.localStorage.set("player",A({},n,{name:t})),e.name=t},j={state:{id:null,name:null,playerNameSaved:!1},mutations:{setPlayer:x,setName:R},actions:{setPlayer:function(e){e.state;var t=e.commit;e.rootState;t("setPlayer")},setPlayerName:function(e,t){e.state;var n=e.commit;e.rootState;n("setName",t)}},getters:{}};r["default"].use(o["a"]);var E=new o["a"].Store({state:{loading:!1,loadingText:"",strikedCells:[],boardWidth:200,boardHeight:200,boardOffset:5},mutations:{},actions:{},modules:{cellArray:p,room:P,player:j}});function M(){B(),d.getAvailableRooms("mainRoom").then((function(e){q(!0),e.length?d.joinById(e[0].roomId).then((function(e){U(e)})).catch((function(e){console.error("join error",e)})):d.joinOrCreate("mainRoom").then((function(e){U(e)})).catch((function(e){console.error("join error",e)}))})).catch((function(e){console.error(e)}))}function N(){var e=S.localStorage.get("room");e?$(e.roomId,e.sessionId):q(!1)}function T(e){q(!0);var t=E.state.player;E.state.room.myRoomAlias=e,d.create("bingoRoom",{roomAlias:e,player:t}).then((function(e){q(!1),D(e)})).catch((function(e){q(!1),console.error("join error",e)}))}function z(e){q(!0);var t=E.state.player;d.joinById(e,{player:t}).then((function(e){q(!1),D(e)})).catch((function(e){q(!1),console.error("join error",e)}))}function $(e,t){q(!0),d.reconnect(e,t).then((function(e){q(!1),D(e)})).catch((function(e){q(!1),B(),console.log("join error",e)}))}function U(e){N(),E.state.room.mainRoomObject=e,e.onMessage((function(e){L(e)}))}function L(e){"ROOM_UPDATE"===e&&B()}function B(){d.getAvailableRooms("bingoRoom").then((function(e){E.state.room.roomsList=e}))}function D(e){S.localStorage.set("room",{roomId:e.id,sessionId:e.sessionId}),E.state.room.myRoomId=e.id,E.state.room.bingoRoomObject=e,H(),e.onStateChange((function(e){E.state.room.myRoom=e.players.toJSON(),E.state.room.myAdminPlayer=e.currentPlayer,E.state.room.myRoomCurrentPlayer=e.currentPlayer,E.state.room.gameStarted=e.gameStarted,E.state.room.myRoomAdmin=e.adminPlayer,E.state.room.myRoomAdmin=e.adminPlayer,E.state.room.playerTimeout=e.playerTimeout,E.state.room.offlinePlayerTimeout=e.offlinePlayerTimeout,E.state.room.elapsedTime=e.elapsedTime})),e.onLeave((function(e){q(!1),J()}))}function V(e){var t=E.state.room.bingoRoomObject;t.send({type:"PLAY_MY_TURN",number:e})}function H(){var e=E.state.room.mainRoomObject;e.send("ROOM_UPDATE")}function F(){var e=E.state.room.bingoRoomObject;e.send({type:"START_GAME"})}function G(){var e=E.state.room.bingoRoomObject;e.send({type:"REMOVE_PLAYER"}),H(),q(!0),e.leave()}function q(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";E.state.loading=e,E.state.loadingText=t,e||(E.state.loadingText="")}function J(){E.state.room.myRoom=E.state.room.myAdminPlayer=E.state.room.myRoomCurrentPlayer=E.state.room.gameStarted=E.state.room.myRoomAdmin=null,S.localStorage.set("room",null)}var W={initMainRoom:M,createBingoRoom:T,addStateChangeLitsener:D,joinBingoRoom:z,playMyTurn:V,startGame:F,reJoin:$,leaveRoom:G,initiateRoomUpdate:H},X={methods:{leaveRoom:W.leaveRoom},computed:{gameStarted:function(){return E.state.room.gameStarted}}},Y=X,K=n("2877"),Q=Object(K["a"])(Y,u,l,!1,null,null,null),Z=Q.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"playerList"},[e.playersCount>1&&e.isIamAdmin&&!e.gameStarted?n("b-col",{staticClass:"startGameBox mt-4",attrs:{center:""}},[n("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.startGame()}}},[e._v(e._s(e.isFirstGame?"Start Game":"Play Again"))])],1):e._e(),n("b-container",{class:["reltv",e.gameStarted?"my-5":"my-3"]},[n("b-row",{staticClass:"playersListWrapper"},e._l(e.orderedPlayerIds,(function(t){return n("b-col",{key:t,staticClass:"p-1",attrs:{cols:t==e.myId&&e.playersCount>2?12:0}},[n("div",{class:["playerLabel","reltv",e.myRoom[t].isOnline?"":"offline",e.myRoom[t].winCount?"hasWinCount":"",e.myRoomAdmin==t?"admin":"",t==e.myId?"thisIsMe":""]},[e.myRoomAdmin==t?n("div",{staticClass:"adminLabel"},[e._v("Admin")]):e._e(),n("strong",[e.highestScorePlayerIds.indexOf(t)>=0?n("CrownSvg",{staticClass:"mr-1",attrs:{fill:"#fff"}}):e._e(),e._v(" "+e._s(e.myRoom[t].playerName)+" ")],1),e.myRoom[t].winCount?n("div",{staticClass:"noOfWins"},[e._v("Wins: "+e._s(e.myRoom[t].winCount))]):e._e(),n("div",{staticClass:"timeOutBar",style:{width:(t==e.CurrentPlayerId&&e.gameStarted?e.timeoutBarPercentage:0)+"%"}})])])})),1)],1)],1)},te=[],ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticStyle:{"enable-background":"new 0 0 267.5 267.5"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 267.5 267.5","xml:space":"preserve"}},[n("path",{attrs:{d:"M256.975,100.34c0.041,0.736-0.013,1.485-0.198,2.229l-16.5,66c-0.832,3.325-3.812,5.663-7.238,5.681l-99,0.5  c-0.013,0-0.025,0-0.038,0H35c-3.444,0-6.445-2.346-7.277-5.688l-16.5-66.25c-0.19-0.764-0.245-1.534-0.197-2.289  C4.643,98.512,0,92.539,0,85.5c0-8.685,7.065-15.75,15.75-15.75S31.5,76.815,31.5,85.5c0,4.891-2.241,9.267-5.75,12.158  l20.658,20.814c5.221,5.261,12.466,8.277,19.878,8.277c8.764,0,17.12-4.162,22.382-11.135l33.95-44.984  C119.766,67.78,118,63.842,118,59.5c0-8.685,7.065-15.75,15.75-15.75s15.75,7.065,15.75,15.75c0,4.212-1.672,8.035-4.375,10.864  c0.009,0.012,0.02,0.022,0.029,0.035l33.704,45.108c5.26,7.04,13.646,11.243,22.435,11.243c7.48,0,14.514-2.913,19.803-8.203  l20.788-20.788C238.301,94.869,236,90.451,236,85.5c0-8.685,7.065-15.75,15.75-15.75s15.75,7.065,15.75,15.75  C267.5,92.351,263.095,98.178,256.975,100.34z M238.667,198.25c0-4.142-3.358-7.5-7.5-7.5h-194c-4.142,0-7.5,3.358-7.5,7.5v18  c0,4.142,3.358,7.5,7.5,7.5h194c4.142,0,7.5-3.358,7.5-7.5V198.25z"}})])},re=[],oe={},ie=Object(K["a"])(oe,ne,re,!1,null,null,null),ae=ie.exports,se={methods:{startGame:function(){W.startGame()}},computed:{isIamAdmin:function(){return E.getters.isIamAdmin},orderedPlayerIds:function(){return E.getters.orderedPlayerIds},highestScorePlayerIds:function(){return E.getters.highestScorePlayerIds},isFirstGame:function(){return E.getters.isFirstGame},gameStarted:function(){return E.state.room.gameStarted},playersCount:function(){return E.getters.playersCount},myRoom:function(){return E.state.room.myRoom},myRoomAdmin:function(){return E.state.room.myRoomAdmin},CurrentPlayerId:function(){return E.state.room.myRoomCurrentPlayer},myId:function(){return E.state.player.id},totalPlayers:function(){return E.getters.totalPlayers},currentPlayerIndex:function(){return E.getters.currentPlayerIndex},timeoutBarPercentage:function(){return E.getters.timeoutBarPercentage},currentPlayerLabelLeftValue:function(){var e=this.totalPlayers,t=this.currentPlayerIndex;return t/e*100-100/e/2}},components:{CrownSvg:ae}},ce=se,ue=Object(K["a"])(ce,ee,te,!1,null,null,null),le=ue.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.className,e.strikedPlayerIndex?"strikedPlayer"+e.strikedPlayerIndex:""],on:{click:function(t){return e.play(e.cellData.number)}}},[n("div",{class:["number"]},[e._v(e._s(e.cellData.number))])])},he=[],de={data:function(){return{striked:!1}},methods:{play:function(e){this.isMyturn&&(this.striked=!0,W.playMyTurn(e))}},computed:{className:function(){var e=E.getters.allStrikedCells,t=(e.indexOf(this.cellData.number)>=0||this.striked)&&!this.isIamNewPlayer;return["cellBox",t?"striked":""]},isMyturn:function(){return E.getters.isMyturn},isIamNewPlayer:function(){return E.getters.isIamNewPlayer},strikedPlayerIndex:function(){var e=E.state.room.myRoom,t=1;for(var n in e){if(e[n].strikedCells.indexOf(this.cellData.number)>=0)return t;t++}return 0}},props:["cellData"]},pe=de,me=Object(K["a"])(pe,fe,he,!1,null,null,null),ve=me.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["BINGO_container",5==e.BingoValue?"won":"",e.gameCompleted&&!e.isIamNewPlayer?"gameCompleted":""]},[n("span",{class:["bingoLetter",e.BingoValue>=1?"coloured":""]},[e._v("B")]),n("span",{class:["bingoLetter",e.BingoValue>=2?"coloured":""]},[e._v("I")]),n("span",{class:["bingoLetter",e.BingoValue>=3?"coloured":""]},[e._v("N")]),n("span",{class:["bingoLetter",e.BingoValue>=4?"coloured":""]},[e._v("G")]),n("span",{class:["bingoLetter",e.BingoValue>=5?"coloured":""]},[e._v("O")])])},ge=[],_e={computed:{BingoValue:function(){return E.getters.BingoValue},gameCompleted:function(){return E.getters.gameCompleted},isIamNewPlayer:function(){return E.getters.isIamNewPlayer}}},be=_e,we=Object(K["a"])(be,ye,ge,!1,null,null,null),Ce=we.exports,Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.gameCompleted&&e.totalPlayers>1&&!e.isIamNewPlayer?n("div",{class:["finalGameStatus",e.isIamAdmin?"admin":""]},[e.didIwonTheGame?n("span",{staticClass:"winner"},[e._v("WON")]):n("span",{staticClass:"loser"},[e._v("LOST")]),n("div",[e.didIwonTheGame?e.wonPlayersIds.length>1?n("b-alert",{attrs:{show:"",variant:"info"}},[e._v(" "+e._s(e.getWonStatusText)+" ")]):e._e():n("b-alert",{attrs:{show:"",variant:"info"}},[e._v(" "+e._s(e.getWonStatusText)+" ")])],1)]):e._e()},Se=[],Pe={computed:{getWonStatusText:function(){return E.getters.getWonStatusText},totalPlayers:function(){return E.getters.totalPlayers},wonPlayersIds:function(){return E.getters.wonPlayersIds},playersCount:function(){return E.getters.playersCount},didIwonTheGame:function(){return E.getters.didIwonTheGame},gameCompleted:function(){return E.getters.gameCompleted},isIamAdmin:function(){return E.getters.isIamAdmin},isIamNewPlayer:function(){return E.getters.isIamNewPlayer}}},ke=Pe,Ie=Object(K["a"])(ke,Oe,Se,!1,null,null,null),Ae=Ie.exports,xe={computed:{cellArray:function(){return E.getters.myCellArray},boardWidth:function(){return E.state.boardWidth-100},boardHeight:function(){return E.state.boardHeight-100},boardOffset:function(){return 2*E.state.boardOffset},Diagonal_1:function(){return E.getters.Diagonal_1},Diagonal_2:function(){return E.getters.Diagonal_2},HorizontalStrikes:function(){return E.getters.HorizontalStrikes},VerticalStrikes:function(){return E.getters.VerticalStrikes},CurrentPlayerId:function(){return E.state.room.myRoomCurrentPlayer},myId:function(){return E.state.player.id},isMyturn:function(){return E.getters.isMyturn},isIamAdmin:function(){return E.getters.isIamAdmin},gameStarted:function(){return E.state.room.gameStarted},isIamNewPlayer:function(){return E.getters.isIamNewPlayer},playersCount:function(){return E.getters.playersCount}},components:{Cell:ve,BINGO:Ce,PlayersList:le,Settings:Z,FinalGameStatus:Ae},watch:{gameStarted:function(e,t){e!=t&&this.isIamAdmin&&W.initiateRoomUpdate()}},mounted:function(){S.browser.calculateSize()}},Re=xe,je=Object(K["a"])(Re,s,c,!1,null,null,null),Ee=je.exports,Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{class:["BINGO_container","BINGO_header"]},[n("span",{class:["bingoLetter"]},[e._v("B")]),n("span",{class:["bingoLetter"]},[e._v("I")]),n("span",{class:["bingoLetter"]},[e._v("N")]),n("span",{class:["bingoLetter"]},[e._v("G")]),n("span",{class:["bingoLetter"]},[e._v("O")])]),n("PlayerNameField"),n("CreateRoom"),n("RoomList")],1)},Ne=[],Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{staticClass:"bv-example-row mt-3"},[n("b-row",[n("b-col",{attrs:{md:"2",lg:"3"}}),n("b-col",{attrs:{md:"8",lg:"6"}},[n("b-form",{on:{submit:function(t){return t.preventDefault(),e.createRoom()}}},[e.showCreateRoomBox?n("b-input-group",[n("b-input-group-prepend",[n("b-button",{attrs:{variant:"warning"},on:{click:function(t){return e.toggleCreateRoomBox()}}},[e._v("Cancel")])],1),n("b-form-input",{attrs:{state:!!e.roomName.trim().length,placeholder:"Enter your room name",trim:""},model:{value:e.roomName,callback:function(t){e.roomName=t},expression:"roomName"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"info"},on:{click:function(t){return e.createRoom()}}},[e._v("Create")])],1)],1):n("b-button",{attrs:{variant:"info"},on:{click:function(t){return e.toggleCreateRoomBox()}}},[e._v("Create Room")])],1)],1),n("b-col",{attrs:{md:"2",lg:"3"}})],1)],1)},ze=[],$e=(n("498a"),{computed:{showCreateRoomBox:function(){return E.state.room.showCreateRoomBox}},methods:{toggleCreateRoomBox:function(){E.state.room.showCreateRoomBox=!E.state.room.showCreateRoomBox},createRoom:function(){this.roomName.trim().length&&(this.toggleCreateRoomBox(),W.createBingoRoom(this.roomName))}},data:function(){return{roomName:""}}}),Ue=$e,Le=Object(K["a"])(Ue,Te,ze,!1,null,null,null),Be=Le.exports,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"roomsList"},[n("b-container",{staticClass:"bv-example-row mt-3"},[n("b-row",[n("b-col",{attrs:{md:"2",lg:"3"}}),e.roomsList.length?n("b-col",{attrs:{md:"8",lg:"6"}},[n("b-list-group",e._l(e.roomsList,(function(t){return n("b-list-group-item",{key:t.roomId},[n("label",{staticClass:"mt-1 float-left"},[e._v(e._s(t.metadata.alias))]),n("b-badge",{staticClass:"roomClientsCount",attrs:{variant:"primary",pill:""}},[e._v(e._s(t.clients)+"/"+e._s(t.maxClients))]),n("b-button",{staticClass:"float-right",attrs:{variant:"success","align-h":"end",pill:""},on:{click:function(n){return e.joinRoom(t.roomId)}}},[e._v("Join")])],1)})),1)],1):n("b-col",[n("b-alert",{attrs:{show:""}},[e._v("No available rooms !")])],1),n("b-col",{attrs:{md:"2",lg:"3"}})],1)],1)],1)},Ve=[],He={computed:{roomsList:function(){return E.state.room.roomsList}},methods:{joinRoom:function(e){W.joinBingoRoom(e)}}},Fe=He,Ge=Object(K["a"])(Fe,De,Ve,!1,null,null,null),qe=Ge.exports,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"playerNameField mt-2"},[n("label",[e._v(" Name: "),e.editMode?n("form",{on:{submit:function(t){return t.preventDefault(),e.saveName(t)}}},[n("b-input",{attrs:{trim:"",size:"sm",id:"playerNameInputQuickSave"},on:{blur:e.saveName},model:{value:e.editName,callback:function(t){e.editName=t},expression:"editName"}})],1):n("strong",{on:{click:function(t){return e.switchToEditMode()}}},[e._v(e._s(e.name))])]),e.editMode?e._e():n("unicon",{staticClass:"editButton ml-1",attrs:{name:"edit-alt"},on:{click:function(t){return e.switchToEditMode()}}})],1)},We=[],Xe={data:function(){return{editName:E.state.player.name,editMode:!1}},methods:{saveName:function(){this.editMode=!1,this.editName.trim().length&&E.dispatch("setPlayerName",this.editName)},switchToEditMode:function(){this.editMode=!0,setTimeout((function(){document.getElementById("playerNameInputQuickSave").select()}),100)}},computed:{name:function(){return E.state.player.name}}},Ye=Xe,Ke=Object(K["a"])(Ye,Je,We,!1,null,null,null),Qe=Ke.exports;W.initMainRoom();var Ze={components:{CreateRoom:Be,RoomList:qe,PlayerNameField:Qe}},et=Ze,tt=Object(K["a"])(et,Me,Ne,!1,null,null,null),nt=tt.exports,rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loading?n("div",{staticClass:"mainLoader"},[n("div",{staticClass:"d-flex justify-content-center mb-3"},[n("b-spinner",{staticStyle:{width:"150px",height:"150px"},attrs:{type:"grow",variant:"primary"}})],1)]):e._e()},ot=[],it={computed:{loading:function(){return E.state.loading}}},at=it,st=Object(K["a"])(at,rt,ot,!1,null,null,null),ct=st.exports,ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"saveNameScreen"},[n("b-modal",{attrs:{"no-close-on-esc":!0,"no-close-on-backdrop":!0,"hide-header-close":!0,"ok-only":!0,visible:!0,"ok-title":"Save",centered:"",title:"Enter your name"},on:{ok:e.saveName,show:e.modalOpened}},[n("b-input",{attrs:{state:e.validate,id:"playerNameInput"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1)},lt=[],ft=n("c437"),ht={data:function(){return{name:"Mr No Name"}},methods:{saveName:function(e){if(e.preventDefault(),this.name.trim().length){E.dispatch("setPlayerName",this.name.trim());var t={id:ft(),name:this.name.trim()};S.localStorage.set("player",t),E.dispatch("setPlayer")}},modalOpened:function(){setTimeout((function(){document.getElementById("playerNameInput").select()}),100)}},computed:{validate:function(){return this.name.trim().length>0}}},dt=ht,pt=Object(K["a"])(dt,ut,lt,!1,null,null,null),mt=pt.exports,vt={computed:{room:function(){return E.state.room},playerNameSaved:function(){return E.state.player.playerNameSaved}},components:{GameBoard:Ee,MainPage:nt,SaveNameScreen:mt,Loader:ct},created:function(){E.dispatch("setPlayer")}},yt=vt,gt=(n("9245"),Object(K["a"])(yt,i,a,!1,null,null,null)),_t=gt.exports,bt=n("5f5b"),wt=(n("f9e3"),n("2dd8"),n("a2e0")),Ct=n.n(wt),Ot=n("cf18");Ct.a.add([Ot["uniEditAlt"],Ot["uniAngleDoubleDown"]]),r["default"].use(Ct.a),r["default"].config.errorHandler=function(e){console.error(e),W.leaveRoom()},window.webpackHotUpdate?(window.STORE=E,window.Helpers=S,window.ColyseusClient=d):S.browser.hackWarn(),r["default"].use(o["a"]),r["default"].use(bt["a"]),r["default"].config.productionTip=!1,window.addEventListener("resize",S.browser.calculateSize),new r["default"]({render:function(e){return e(_t)}}).$mount("#app")},"76d3":function(e,t,n){"use strict";(function(e){n("a4d3"),n("e01a"),n("d28b"),n("197b"),n("4de4"),n("4160"),n("a630"),n("c975"),n("a15b"),n("d81d"),n("13d5"),n("fb6a"),n("4e82"),n("f785"),n("a434"),n("c19f"),n("82da"),n("ace4"),n("b420"),n("f4b3"),n("0d03"),n("b0c0"),n("4ec9"),n("a9e3"),n("aff5"),n("e439"),n("b64b"),n("131a"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("3ca3"),n("466d"),n("5319"),n("1276"),n("498a"),n("cfc3"),n("4a9b"),n("143c"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a9"),n("72f7"),n("159b"),n("ddb0"),n("bf19");var r=n("bf2d");!function(t,o){"object"==("undefined"===typeof exports?"undefined":Object(r["a"])(exports))&&"object"==Object(r["a"])(e)?e.exports=o():"function"==typeof define&&n("3c35")?define([],o):"object"==("undefined"===typeof exports?"undefined":Object(r["a"])(exports))?exports.Colyseus=o():t.Colyseus=o()}("undefined"!=typeof self?self:void 0,(function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t,n){function o(e,t,n,o){var i,a=!1;switch(t){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":i="number",isNaN(e)&&console.log('trying to encode "NaN" in '+n.constructor.name+"#"+o);break;case"string":i="string",a=!0;break;case"boolean":return}if(Object(r["a"])(e)!==i&&(!a||a&&null!==e)){var s="'"+JSON.stringify(e)+"'"+(e&&e.constructor&&" ("+e.constructor.name+")");throw new v("a '"+i+"' was expected, but "+s+" was provided in "+n.constructor.name+"#"+o)}}function i(e,t,n,r){if(!(e instanceof t))throw new v("a '"+t.name+"' was expected, but '"+e.constructor.name+"' was provided in "+n.constructor.name+"#"+r)}function a(e,t,n,r,i){o(n,e,r,i);var a=f[e];if(!a)throw new v("a '"+e+"' was expected, but "+n+" was provided in "+r.constructor.name+"#"+i);a(t,n)}function s(e,t,n){return h[e](t,n)}var c=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var l=n(10),f=n(31),h=n(32),d=n(1),p=n(2),m=n(11),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t}(Error),y=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Object.defineProperties(this,{$changes:{value:new m.ChangeTree,enumerable:!1,writable:!0}});var n=this._descriptors;n&&Object.defineProperties(this,n)}return e.onError=function(e){console.error(e)},Object.defineProperty(e.prototype,"_schema",{get:function(){return this.constructor._schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_descriptors",{get:function(){return this.constructor._descriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_indexes",{get:function(){return this.constructor._indexes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_filters",{get:function(){return this.constructor._filters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_deprecated",{get:function(){return this.constructor._deprecated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$changed",{get:function(){return this.$changes.changed},enumerable:!0,configurable:!0}),e.prototype.decode=function(t,n){void 0===n&&(n={offset:0});var r=[],o=this._schema,i=this._indexes,a={};Object.keys(i).forEach((function(e){var t=i[e];a[t]=e}));var c=t.length;t[n.offset]===l.TYPE_ID&&(n.offset+=2);for(var u=this;n.offset<c;)if("break"===function(){var i=h.nilCheck(t,n)&&++n.offset,c=t[n.offset++];if(c===l.END_OF_STRUCTURE)return"break";var f=a[c],m=o[f],v=void 0,y=void 0,g=!1;if(!f)return"continue";if(i)v=null,g=!0;else if(m._schema)v=u["_"+f]||u.createTypeInstance(t,n,m),v.decode(t,n),g=!0;else if(Array.isArray(m)){m=m[0],y=[];var _=u["_"+f]||new d.ArraySchema;v=_.clone(!0);var b=h.number(t,n),w=Math.min(h.number(t,n),b);g=w>0;var C=!1;v.length>b&&Array.prototype.splice.call(v,b).forEach((function(t,n){if(t&&t.onRemove)try{t.onRemove()}catch(t){e.onError(t)}if(_.onRemove)try{_.onRemove(t,b+n)}catch(t){e.onError(t)}}));for(var O=0;O<w;O++){var S=h.number(t,n),P=void 0;h.indexChangeCheck(t,n)&&(h.uint8(t,n),P=h.number(t,n),C=!0);var k=!C&&void 0===v[S]||C&&void 0===P;if(m.prototype instanceof e){var I=void 0;I=k?u.createTypeInstance(t,n,m):void 0!==P?_[P]:_[S],I||(I=u.createTypeInstance(t,n,m),k=!0),I.decode(t,n),v[S]=I}else v[S]=s(m,t,n);if(k){if(_.onAdd)try{_.onAdd(v[S],S)}catch(t){e.onError(t)}}else if(_.onChange)try{_.onChange(v[S],S)}catch(t){e.onError(t)}y.push(v[S])}}else if(m.map){m=m.map;var A=u["_"+f]||new p.MapSchema;v=A.clone(!0);var x=h.number(t,n);g=x>0;C=!1;var R=Object.keys(A);for(O=0;O<x&&void 0!==t[n.offset]&&t[n.offset]!==l.END_OF_STRUCTURE;O++){var j=h.nilCheck(t,n)&&++n.offset,E=void 0;h.indexChangeCheck(t,n)&&(h.uint8(t,n),E=R[h.number(t,n)],C=!0);var M=h.numberCheck(t,n),N="string"!=typeof m,T=M?R[h.number(t,n)]:h.string(t,n);I=void 0,k=!C&&void 0===A[T]||C&&void 0===E&&M;if(I=k&&N?u.createTypeInstance(t,n,m):void 0!==E?A[E]:A[T],j){if(I&&I.onRemove)try{I.onRemove()}catch(t){e.onError(t)}if(A.onRemove)try{A.onRemove(I,T)}catch(t){e.onError(t)}delete v[T]}else if(N?(I.decode(t,n),v[T]=I):v[T]=s(m,t,n),k){if(A.onAdd)try{A.onAdd(v[T],T)}catch(t){e.onError(t)}}else if(A.onChange)try{A.onChange(v[T],T)}catch(t){e.onError(t)}}}else v=s(m,t,n),g=!0;g&&u.onChange&&r.push({field:f,value:y||v,previousValue:u["_"+f]}),u["_"+f]=v}())break;if(this.onChange&&r.length>0)try{this.onChange(r)}catch(t){e.onError(t)}return this},e.prototype.encode=function(e,t,n){var r=this;void 0===e&&(e=this),void 0===t&&(t=!1);var o=[];if(!this.$changes.changed&&!t)return this._encodeEndOfStructure(this,e,o),o;for(var s=this._schema,c=this._indexes,h=this._filters,m=t||n?this.$changes.allChanges:this.$changes.changes,v=this,y=0,g=m.length;y<g;y++)!function(y,g){var _=m[y],b=s[_],w=h&&h[_],C=v["_"+_],O=c[_],S=[];if(void 0===C)f.uint8(S,l.NIL),f.number(S,O);else if(b._schema){if(n&&w&&!w.call(v,n,C,e))return"continue";C?(f.number(S,O),i(C,b,v,_),v.tryEncodeTypeId(S,b,C.constructor),S.push.apply(S,C.encode(e,t,n))):(f.uint8(S,l.NIL),f.number(S,O))}else if(Array.isArray(b)){f.number(S,O),f.number(S,C.length);var P=(t||n?C.$changes.allChanges:C.$changes.changes).filter((function(e){return void 0!==r["_"+_][e]})).sort((function(e,t){return e-t})),k=P.length;f.number(S,k);var I="string"!=typeof b[0];i(v["_"+_],d.ArraySchema,v,_);for(var A=0;A<k;A++){var x=P[A],R=v["_"+_][x];if(!n||!w||w.call(v,n,R,e))if(I){if(f.number(S,x),!t){var j=C.$changes.getIndexChange(R);void 0!==j&&(f.uint8(S,l.INDEX_CHANGE),f.number(S,j))}i(R,b[0],v,_),v.tryEncodeTypeId(S,b[0],R.constructor),S.push.apply(S,R.encode(e,t,n))}else void 0!==R&&(f.number(S,x),a(b[0],S,R,v,_))}t||C.$changes.discard()}else if(b.map){f.number(S,O);var E=t||n?C.$changes.allChanges:C.$changes.changes;f.number(S,E.length);var M=C.$changes.allChanges;I="string"!=typeof b.map,k=E.length;i(v["_"+_],p.MapSchema,v,_);for(var N=0;N<k;N++){var T="number"==typeof E[N]&&M[E[N]]||E[N],z=(R=v["_"+_][T],void 0);if(!n||!w||w.call(v,n,R,e)){if(t){if(void 0===R)continue}else{j=C.$changes.getIndexChange(R);R&&void 0!==j&&(f.uint8(S,l.INDEX_CHANGE),f.number(S,v["_"+_]._indexes.get(j))),z=C.$changes.isDeleted(T)&&R?void 0:v["_"+_]._indexes.get(T)}var $=void 0===R;$&&f.uint8(S,l.NIL),void 0!==z?f.number(S,z):f.string(S,T),R&&I?(i(R,b.map,v,_),v.tryEncodeTypeId(S,b.map,R.constructor),S.push.apply(S,R.encode(e,t,n))):$||a(b.map,S,R,v,_)}}t||(C.$changes.discard(),n||v["_"+_]._updateIndexes(C.$changes.allChanges))}else{if(n&&w&&!w.call(v,n,C,e))return"continue";f.number(S,O),a(b,S,C,v,_)}o=u(o,S)}(y);return this._encodeEndOfStructure(this,e,o),t||n||this.$changes.discard(),o},e.prototype.encodeFiltered=function(e){return this.encode(this,!1,e)},e.prototype.encodeAll=function(){return this.encode(this,!0)},e.prototype.encodeAllFiltered=function(e){return this.encode(this,!0,e)},e.prototype.clone=function(){var e=new this.constructor,t=this._schema;for(var n in t)"object"==Object(r["a"])(this[n])&&"function"==typeof this[n].clone?e[n]=this[n].clone():e[n]=this[n];return e},e.prototype.triggerAll=function(){if(this.onChange){var t=[],n=this._schema;for(var r in n)void 0!==this[r]&&t.push({field:r,value:this[r],previousValue:void 0});try{this.onChange(t)}catch(t){e.onError(t)}}},e.prototype.toJSON=function(){var e=this._schema,t=this._deprecated,n={};for(var r in e)t[r]||null===this[r]||void 0===this[r]||(n[r]="function"==typeof this[r].toJSON?this[r].toJSON():this["_"+r]);return n},e.prototype._encodeEndOfStructure=function(e,t,n){e!==t&&n.push(l.END_OF_STRUCTURE)},e.prototype.tryEncodeTypeId=function(e,t,n){t._typeid!==n._typeid&&(f.uint8(e,l.TYPE_ID),f.uint8(e,n._typeid))},e.prototype.createTypeInstance=function(e,t,n){return e[t.offset]===l.TYPE_ID?(t.offset++,new(this.constructor._context.get(h.uint8(e,t)))):new n},e}();t.Schema=y},function(e,t,n){var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a=e.apply(this,n)||this;return Object.setPrototypeOf(a,Object.create(t.prototype)),Object.defineProperties(a,{$sorting:{value:void 0,enumerable:!1,writable:!0},$changes:{value:void 0,enumerable:!1,writable:!0},onAdd:{value:void 0,enumerable:!1,writable:!0},onRemove:{value:void 0,enumerable:!1,writable:!0},onChange:{value:void 0,enumerable:!1,writable:!0},triggerAll:{value:function(){if(a.onAdd)for(var e=0;e<a.length;e++)a.onAdd(a[e],e)}},toJSON:{value:function(){for(var e=[],t=0;t<a.length;t++){var n=a[t];e.push("function"==typeof n.toJSON?n.toJSON():n)}return e}},clone:{value:function(e){var n;return e?(n=t.of.apply(t,a),n.onAdd=a.onAdd,n.onRemove=a.onRemove,n.onChange=a.onChange):n=new(t.bind.apply(t,i([void 0],a.map((function(e){return"object"==Object(r["a"])(e)?e.clone():e}))))),n}}}),a}return o(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!0,configurable:!0}),t.prototype.sort=function(t){this.$sorting=!0,e.prototype.sort.call(this,t);for(var n=this.$changes.changes,r=0,o=n;r<o.length;r++){var i=o[r],a=this.$changes.getIndex(this[i]);void 0!==a&&this.$changes.mapIndexChange(this[i],a),this.$changes.mapIndex(this[i],i)}return this.$sorting=!1,this},t.prototype.filter=function(t,n){var r=e.prototype.filter.call(this,t);return r.$changes=this.$changes,r},t.prototype.splice=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=Array.prototype.splice.apply(this,arguments),i=Array.prototype.filter.call(this,(function(n,r){return r>=e+t-1}));return o.map((function(e){e&&e.$changes&&(e.$changes.parent.deleteIndex(e),e.$changes.parent.deleteIndexChange(e),delete e.$changes.parent)})),i.forEach((function(e){e&&e.$changes&&e.$changes.parentField--})),o},t}(Array);t.ArraySchema=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){var n=this;for(var o in void 0===t&&(t={}),t)this[o]=t[o];Object.defineProperties(this,{$changes:{value:void 0,enumerable:!1,writable:!0},onAdd:{value:void 0,enumerable:!1,writable:!0},onRemove:{value:void 0,enumerable:!1,writable:!0},onChange:{value:void 0,enumerable:!1,writable:!0},clone:{value:function(t){var o;if(t)o=Object.assign(new e,n),o.onAdd=n.onAdd,o.onRemove=n.onRemove,o.onChange=n.onChange;else{var i=new e;for(var a in n)"object"==Object(r["a"])(n[a])?i[a]=n[a].clone():i[a]=n[a]}return o}},triggerAll:{value:function(){if(n.onAdd)for(var e in n)n.onAdd(n[e],e)}},toJSON:{value:function(){var e={};for(var t in n)e[t]="function"==typeof n[t].toJSON?n[t].toJSON():n[t];return e}},_indexes:{value:new Map,enumerable:!1,writable:!0},_updateIndexes:{value:function(e){for(var t=0,r=new Map,o=0,i=e;o<i.length;o++){var a=i[o];r.set(a,t++)}n._indexes=r}}})}return e}();t.MapSchema=o},function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(16)),i=r(n(17));t.decode=o.default,t.encode=i.default},function(e,t,n){function r(e,t){t.headers=e.headers||{},t.statusMessage=e.statusText,t.statusCode=e.status,t.data=e.response}function o(e,t,n){return new Promise((function(o,i){n=n||{};var a,s,c,u,l=new XMLHttpRequest,f=n.headers||{};for(a in l.timeout=n.timeout,l.ontimeout=l.onerror=function(e){e.timeout="timeout"==e.type,i(e)},l.open(e,t),l.onload=function(){for(u=l.getAllResponseHeaders().trim().split(/[\r\n]+/),r(l,l);c=u.shift();)c=c.split(": "),l.headers[c.shift().toLowerCase()]=c.join(": ");if((c=l.headers["content-type"])&&~c.indexOf("application/json"))try{l.data=JSON.parse(l.data,n.reviver)}catch(e){return r(l,e),i(e)}(l.status>=400?i:o)(l)},(s=n.body)&&/Array|Object/.test(s.constructor)&&(f["content-type"]="application/json",s=JSON.stringify(s)),f)l.setRequestHeader(a,f[a]);l.send(s)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.send=o,n.d(t,"get",(function(){return i})),n.d(t,"post",(function(){return a})),n.d(t,"patch",(function(){return s})),n.d(t,"del",(function(){return c})),n.d(t,"put",(function(){return u}));var i=o.bind(o,"GET"),a=o.bind(o,"POST"),s=o.bind(o,"PATCH"),c=o.bind(o,"DELETE"),u=o.bind(o,"PUT")},function(e,t,n){var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(3)),i=n(18),a=n(19),s=n(6),c=n(7),u=function(){function e(e,t){var n=this;this.onJoin=i.createSignal(),this.onStateChange=i.createSignal(),this.onMessage=i.createSignal(),this.onError=i.createSignal(),this.onLeave=i.createSignal(),this.hasJoined=!1,this.id=null,this.name=e,t?(this.serializer=new(s.getSerializer("schema")),this.rootSchema=t,this.serializer.state=new t):this.serializer=new(s.getSerializer("fossil-delta")),this.onError((function(e){return console.error(e)})),this.onLeave((function(){return n.removeAllListeners()}))}return e.prototype.connect=function(e){var t=this;this.connection=new a.Connection(e,!1),this.connection.reconnectEnabled=!1,this.connection.onmessage=this.onMessageCallback.bind(this),this.connection.onclose=function(e){if(!t.hasJoined)return console.error("Room connection was closed unexpectedly ("+e.code+"): "+e.reason),void t.onError.invoke(e.reason);t.onLeave.invoke(e.code)},this.connection.onerror=function(e){console.warn("Room, onError ("+e.code+"): "+e.reason),t.onError.invoke(e.reason)},this.connection.open()},e.prototype.leave=function(e){void 0===e&&(e=!0),this.connection?e?this.connection.send([c.Protocol.LEAVE_ROOM]):this.connection.close():this.onLeave.invoke(4e3)},e.prototype.send=function(e){this.connection.send([c.Protocol.ROOM_DATA,e])},Object.defineProperty(e.prototype,"state",{get:function(){return this.serializer.getState()},enumerable:!0,configurable:!0}),e.prototype.listen=function(e,t,n){return"schema"===this.serializerId?void console.error("'"+this.serializerId+"' serializer doesn't support .listen() method."):(this.serializerId||console.warn("room.Listen() should be called after room.onJoin has been called (DEPRECATION WARNING)"),this.serializer.api.listen(e,t,n))},e.prototype.removeListener=function(e){return this.serializer.api.removeListener(e)},e.prototype.removeAllListeners=function(){this.serializer&&this.serializer.teardown(),this.onJoin.clear(),this.onStateChange.clear(),this.onMessage.clear(),this.onError.clear(),this.onLeave.clear()},e.prototype.onMessageCallback=function(e){if(this.previousCode)this.previousCode===c.Protocol.ROOM_STATE?this.setState(Array.from(new Uint8Array(e.data))):this.previousCode===c.Protocol.ROOM_STATE_PATCH?this.patch(Array.from(new Uint8Array(e.data))):this.previousCode===c.Protocol.ROOM_DATA&&this.onMessage.invoke(o.decode(e.data)),this.previousCode=void 0;else{var t=new DataView(e.data),n=t.getUint8(0);if(n===c.Protocol.JOIN_ROOM){var r=1;this.serializerId=c.utf8Read(t,r),r+=c.utf8Length(this.serializerId);var i=s.getSerializer(this.serializerId);if(!i)throw new Error("missing serializer: "+this.serializerId);if("fossil-delta"===this.serializerId||this.rootSchema||(this.serializer=new i),t.buffer.byteLength>r&&this.serializer.handshake){var a=Array.from(new Uint8Array(t.buffer.slice(r)));this.serializer.handshake(a)}this.hasJoined=!0,this.onJoin.invoke()}else n===c.Protocol.JOIN_ERROR?this.onError.invoke(c.utf8Read(t,1)):n===c.Protocol.LEAVE_ROOM?this.leave():this.previousCode=n}},e.prototype.setState=function(e){this.serializer.setState(e),this.onStateChange.invoke(this.serializer.getState())},e.prototype.patch=function(e){this.serializer.patch(e),this.onStateChange.invoke(this.serializer.getState())},e}();t.Room=u},function(e,t,n){function r(e,t){i[e]=t}function o(e){return i[e]}Object.defineProperty(t,"__esModule",{value:!0});var i={};t.registerSerializer=r,t.getSerializer=o},function(e,t,n){function r(e,t){for(var n=e.getUint8(t++),r="",o=0,i=t,a=t+n;i<a;i++){var s=e.getUint8(i);if(0!=(128&s))if(192!=(224&s))if(224!=(240&s)){if(240!=(248&s))throw new Error("Invalid byte "+s.toString(16));o=(7&s)<<18|(63&e.getUint8(++i))<<12|(63&e.getUint8(++i))<<6|(63&e.getUint8(++i))<<0,o>=65536?(o-=65536,r+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):r+=String.fromCharCode(o)}else r+=String.fromCharCode((15&s)<<12|(63&e.getUint8(++i))<<6|(63&e.getUint8(++i))<<0);else r+=String.fromCharCode((31&s)<<6|63&e.getUint8(++i));else r+=String.fromCharCode(s)}return r}function o(e){void 0===e&&(e="");for(var t=0,n=0,r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n+1}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.JOIN_ROOM=10]="JOIN_ROOM",e[e.JOIN_ERROR=11]="JOIN_ERROR",e[e.LEAVE_ROOM=12]="LEAVE_ROOM",e[e.ROOM_DATA=13]="ROOM_DATA",e[e.ROOM_STATE=14]="ROOM_STATE",e[e.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH"}(t.Protocol||(t.Protocol={})),t.utf8Read=r,t.utf8Length=o},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(a=2&n[0]?i.return:n[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,i=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(4)),s=n(23),c="colyseus-auth-token";!function(e){e.ios="ios",e.android="android"}(t.Platform||(t.Platform={}));var u=function(){function e(e){var t=this;this._id=void 0,this.username=void 0,this.displayName=void 0,this.avatarUrl=void 0,this.isAnonymous=void 0,this.email=void 0,this.lang=void 0,this.location=void 0,this.timezone=void 0,this.metadata=void 0,this.devices=void 0,this.facebookId=void 0,this.twitterId=void 0,this.googleId=void 0,this.gameCenterId=void 0,this.steamId=void 0,this.friendIds=void 0,this.blockedUserIds=void 0,this.createdAt=void 0,this.updatedAt=void 0,this.token=void 0,this.endpoint=e.replace("ws","http"),s.getItem(c,(function(e){return t.token=e}))}return Object.defineProperty(e.prototype,"hasToken",{get:function(){return!!this.token},enumerable:!0,configurable:!0}),e.prototype.login=function(e){return void 0===e&&(e={}),r(this,void 0,void 0,(function(){var t,n,r;return o(this,(function(o){switch(o.label){case 0:return t=Object.assign({},e),this.hasToken&&(t.token=this.token),[4,this.request("post","/auth",t)];case 1:for(r in n=o.sent(),this.token=n.token,s.setItem(c,this.token),n)this.hasOwnProperty(r)&&(this[r]=n[r]);return this.registerPingService(),[2,this]}}))}))},e.prototype.save=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.request("put","/auth",{},{username:this.username,displayName:this.displayName,avatarUrl:this.avatarUrl,lang:this.lang,location:this.location,timezone:this.timezone})];case 1:return e.sent(),[2,this]}}))}))},e.prototype.getFriends=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.request("get","/friends/all")];case 1:return[2,e.sent()]}}))}))},e.prototype.getOnlineFriends=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.request("get","/friends/online")];case 1:return[2,e.sent()]}}))}))},e.prototype.getFriendRequests=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.request("get","/friends/requests")];case 1:return[2,e.sent()]}}))}))},e.prototype.sendFriendRequest=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.request("post","/friends/requests",{userId:e})];case 1:return[2,t.sent()]}}))}))},e.prototype.acceptFriendRequest=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.request("put","/friends/requests",{userId:e})];case 1:return[2,t.sent()]}}))}))},e.prototype.declineFriendRequest=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.request("del","/friends/requests",{userId:e})];case 1:return[2,t.sent()]}}))}))},e.prototype.blockUser=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.request("post","/friends/block",{userId:e})];case 1:return[2,t.sent()]}}))}))},e.prototype.unblockUser=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.request("put","/friends/block",{userId:e})];case 1:return[2,t.sent()]}}))}))},e.prototype.request=function(e,t,n,i,s){return void 0===n&&(n={}),void 0===s&&(s={}),r(this,void 0,void 0,(function(){var r,c,u,l;return o(this,(function(o){switch(o.label){case 0:for(c in s.Accept="application/json",this.hasToken&&(s.Authorization="Bearer "+this.token),r=[],n)r.push(c+"="+n[c]);return u=r.length>0?"?"+r.join("&"):"",l={headers:s},i&&(l.body=i),[4,a[e](""+this.endpoint+t+u,l)];case 1:return[2,o.sent().data]}}))}))},e.prototype.logout=function(){this.token=void 0,s.removeItem(c),this.unregisterPingService()},e.prototype.registerPingService=function(e){var t=this;void 0===e&&(e=15e3),this.unregisterPingService(),this.keepOnlineInterval=setInterval((function(){return t.request("get","/auth")}),e)},e.prototype.unregisterPingService=function(){clearInterval(this.keepOnlineInterval)},e}();t.Auth=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.Schema=r.Schema;var o=n(2);t.MapSchema=o.MapSchema;var i=n(1);t.ArraySchema=i.ArraySchema;var a=n(33);t.Reflection=a.Reflection,t.ReflectionType=a.ReflectionType,t.ReflectionField=a.ReflectionField;var s=n(12);t.type=s.type,t.deprecated=s.deprecated,t.filter=s.filter,t.defineTypes=s.defineTypes,t.Context=s.Context},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.END_OF_STRUCTURE=193,t.NIL=192,t.INDEX_CHANGE=212,t.TYPE_ID=213},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(1),a=n(2),s=function(){function e(e,t){void 0===e&&(e=null),this.changed=!1,this.changes=[],this.allChanges=[],this.deletedKeys={},this.parent=t,this.parentField=e}return e.prototype.change=function(e,t){void 0===t&&(t=!1),this.changed=!0,-1===this.changes.indexOf(e)&&this.changes.push(e);var n=this.allChanges.indexOf(e);t||-1!==n?t&&n>=0&&this.allChanges.splice(n,1):this.allChanges.push(e),this.parent&&this.parent.change(this.parentField)},e.prototype.mapIndex=function(e,t){"object"==Object(r["a"])(e)&&(this.indexMap||(this.indexMap=new Map,this.indexChange=new Map),this.indexMap.set(e,t))},e.prototype.getIndex=function(e){return this.indexMap&&this.indexMap.get(e)},e.prototype.deleteIndex=function(e){"object"==Object(r["a"])(e)&&(this.deletedKeys[this.indexMap.get(e)]=!0,this.indexMap.delete(e))},e.prototype.isDeleted=function(e){return void 0!==this.deletedKeys[e]},e.prototype.mapIndexChange=function(e,t){"object"==Object(r["a"])(e)&&this.indexChange.set(e,t)},e.prototype.getIndexChange=function(e){return this.indexChange&&this.indexChange.get(e)},e.prototype.deleteIndexChange=function(e){"object"==Object(r["a"])(e)&&this.indexChange.delete(e)},e.prototype.changeAll=function(e){if(e instanceof o.Schema){var t=e._schema;for(var n in t)(e[n]instanceof o.Schema||e[n]instanceof i.ArraySchema||e[n]instanceof a.MapSchema)&&!e[n].$changes.parent.parent&&(e[n].$changes.parent=this),void 0!==e[n]&&this.change(n)}else for(var r=Object.keys(e),s=0,c=r;s<c.length;s++){var u=c[s];void 0!==e[u]&&this.change(u)}},e.prototype.discard=function(){this.changed=!1,this.changes=[],this.deletedKeys={},this.indexChange&&this.indexChange.clear()},e}();t.ChangeTree=s},function(e,t,n){function r(e,n){return void 0===n&&(n=t.globalContext),function(t,r){var o=t.constructor;if(o._context=n,n.has(o)||(n.add(o),o._schema=Object.assign({},o._schema||{}),o._indexes=Object.assign({},o._indexes||{}),o._descriptors=Object.assign({},o._descriptors||{}),o._deprecated=Object.assign({},o._deprecated||{})),o._indexes[r]=Object.keys(o._schema).length,o._schema[r]=e,!o._descriptors[r]){var i=Array.isArray(e),a=!i&&e.map,u="function"==typeof o._schema[r],l="_"+r;o._descriptors[l]={enumerable:!1,configurable:!1,writable:!0},o._descriptors[r]={get:function(){return this[l]},set:function(e){if((i||a)&&(e=new Proxy(e,{get:function(e,t){return e[t]},set:function(e,t,n){if("length"!==t&&0!==t.indexOf("$")){var r=i?Number(t):String(t);if(!e.$sorting){var o=e.$changes.getIndex(n);void 0!==o&&e.$changes.mapIndexChange(n,o),e.$changes.mapIndex(n,r)}n instanceof c.Schema?n.$changes.parent||(n.$changes=new s.ChangeTree(r,e.$changes),n.$changes.changeAll(n)):e[t]=n,e.$changes.change(r)}else e[t];return e[t]=n,!0},deleteProperty:function(e,t){var n=e[t];a&&void 0!==n&&(e.$changes.deleteIndex(n),e.$changes.deleteIndexChange(n),n.$changes&&delete n.$changes.parent),delete e[t];var r=i?Number(t):String(t);return e.$changes.change(r,!0),!0}})),e!==this[l])if(this[l]=e,i){this.$changes.change(r),e.$changes=new s.ChangeTree(r,this.$changes);for(var t=0;t<e.length;t++)e[t]instanceof c.Schema&&(e[t].$changes=new s.ChangeTree(t,e.$changes),e[t].$changes.changeAll(e[t])),e.$changes.mapIndex(e[t],t),e.$changes.change(t)}else if(a)for(var n in e.$changes=new s.ChangeTree(r,this.$changes),this.$changes.change(r),e)e[n]instanceof c.Schema&&(e[n].$changes=new s.ChangeTree(n,e.$changes),e[n].$changes.changeAll(e[n])),e.$changes.mapIndex(e[n],n),e.$changes.change(n);else u?(this.$changes.change(r),e&&(e.$changes=new s.ChangeTree(r,this.$changes),e.$changes.changeAll(e))):this.$changes.change(r)},enumerable:!0,configurable:!0}}}}function o(e){return function(t,n){var r=t.constructor;r._filters||(r._filters={}),r._filters[n]=e}}function i(e,n){return void 0===e&&(e=!0),void 0===n&&(n=t.globalContext),function(t,n){var r=t.constructor;r._deprecated[n]=!0,e&&(r._descriptors[n]={get:function(){throw new Error(n+" is deprecated.")},set:function(e){},enumerable:!1,configurable:!0})}}function a(e,n,o){for(var i in void 0===o&&(o=t.globalContext),n)r(n[i],o)(e.prototype,i);return e}Object.defineProperty(t,"__esModule",{value:!0});var s=n(11),c=n(0),u=function(){function e(){this.types={},this.schemas=new Map}return e.prototype.has=function(e){return this.schemas.has(e)},e.prototype.get=function(e){return this.types[e]},e.prototype.add=function(e){e._typeid=this.schemas.size,this.types[e._typeid]=e,this.schemas.set(e,e._typeid)},e}();t.Context=u,t.globalContext=new u,t.type=r,t.filter=o,t.deprecated=i,t.defineTypes=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n(14);var r=n(15);t.Client=r.Client;var o=n(7);t.Protocol=o.Protocol;var i=n(5);t.Room=i.Room;var a=n(8);t.Auth=a.Auth,t.Platform=a.Platform;var s=n(25);t.FossilDeltaSerializer=s.FossilDeltaSerializer;var c=n(30);t.SchemaSerializer=c.SchemaSerializer;var u=n(6);t.registerSerializer=u.registerSerializer;var l=n(9);t.Schema=l.Schema,t.type=l.type,u.registerSerializer("fossil-delta",s.FossilDeltaSerializer),u.registerSerializer("schema",c.SchemaSerializer)},function(e,t){ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return null!==e&&"object"==Object(r["a"])(e)&&e.buffer instanceof ArrayBuffer})},function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(a=2&n[0]?i.return:n[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,i=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=n(5),c=n(8),u=n(24),l=function(e){function t(n,r){var o=e.call(this,n)||this;return o.code=r,Object.setPrototypeOf(o,t.prototype),o}return r(t,e),t}(Error);t.MatchMakeError=l;var f=function(){function e(e){void 0===e&&(e=location.protocol.replace("http","ws")+"//"+location.hostname+(location.port&&":"+location.port)),this.endpoint=e,this.auth=new c.Auth(this.endpoint),this.push=new u.Push(this.endpoint)}return e.prototype.joinOrCreate=function(e,t,n){return void 0===t&&(t={}),o(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("joinOrCreate",e,t,n)];case 1:return[2,r.sent()]}}))}))},e.prototype.create=function(e,t,n){return void 0===t&&(t={}),o(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("create",e,t,n)];case 1:return[2,r.sent()]}}))}))},e.prototype.join=function(e,t,n){return void 0===t&&(t={}),o(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("join",e,t,n)];case 1:return[2,r.sent()]}}))}))},e.prototype.joinById=function(e,t,n){return void 0===t&&(t={}),o(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("joinById",e,t,n)];case 1:return[2,r.sent()]}}))}))},e.prototype.reconnect=function(e,t,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("joinById",e,{sessionId:t},n)];case 1:return[2,r.sent()]}}))}))},e.prototype.getAvailableRooms=function(e){return void 0===e&&(e=""),o(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return t=this.endpoint.replace("ws","http")+"/matchmake/"+e,[4,a.get(t,{headers:{Accept:"application/json"}})];case 1:return[2,n.sent().data]}}))}))},e.prototype.consumeSeatReservation=function(e,t){return o(this,void 0,void 0,(function(){var n;return i(this,(function(r){return n=this.createRoom(e.room.name,t),n.id=e.room.roomId,n.sessionId=e.sessionId,n.connect(this.buildEndpoint(e.room,{sessionId:n.sessionId})),[2,new Promise((function(e,t){var r=function(e){return t(e)};n.onError.once(r),n.onJoin.once((function(){n.onError.remove(r),e(n)}))}))]}))}))},e.prototype.createMatchMakeRequest=function(e,t,n,r){return void 0===n&&(n={}),o(this,void 0,void 0,(function(){var o,s;return i(this,(function(i){switch(i.label){case 0:return o=this.endpoint.replace("ws","http")+"/matchmake/"+e+"/"+t,this.auth.hasToken&&(n.token=this.auth.token),[4,a.post(o,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})];case 1:if(s=i.sent().data,s.error)throw new l(s.error,s.code);return[2,this.consumeSeatReservation(s,r)]}}))}))},e.prototype.createRoom=function(e,t){return new s.Room(e,t)},e.prototype.buildEndpoint=function(e,t){void 0===t&&(t={});var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r+"="+t[r]);return this.endpoint+"/"+e.processId+"/"+e.roomId+"?"+n.join("&")},e}();t.Client=f},function(e,t,n){function r(e){if(this._offset=0,e instanceof ArrayBuffer)this._buffer=e,this._view=new DataView(this._buffer);else{if(!ArrayBuffer.isView(e))throw new Error("Invalid argument");this._buffer=e.buffer,this._view=new DataView(this._buffer,e.byteOffset,e.byteLength)}}function o(e,t,n){for(var r="",o=0,i=t,a=t+n;i<a;i++){var s=e.getUint8(i);if(0!=(128&s))if(192!=(224&s))if(224!=(240&s)){if(240!=(248&s))throw new Error("Invalid byte "+s.toString(16));o=(7&s)<<18|(63&e.getUint8(++i))<<12|(63&e.getUint8(++i))<<6|(63&e.getUint8(++i))<<0,o>=65536?(o-=65536,r+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):r+=String.fromCharCode(o)}else r+=String.fromCharCode((15&s)<<12|(63&e.getUint8(++i))<<6|(63&e.getUint8(++i))<<0);else r+=String.fromCharCode((31&s)<<6|63&e.getUint8(++i));else r+=String.fromCharCode(s)}return r}function i(e){var t=new r(e),n=t._parse();if(t._offset!==e.byteLength)throw new Error(e.byteLength-t._offset+" trailing bytes");return n}r.prototype._array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this._parse();return t},r.prototype._map=function(e){for(var t="",n={},r=0;r<e;r++)t=this._parse(),n[t]=this._parse();return n},r.prototype._str=function(e){var t=o(this._view,this._offset,e);return this._offset+=e,t},r.prototype._bin=function(e){var t=this._buffer.slice(this._offset,this._offset+e);return this._offset+=e,t},r.prototype._parse=function(){var e,t=this._view.getUint8(this._offset++),n=0,r=0,o=0,i=0;if(t<192)return t<128?t:t<144?this._map(15&t):t<160?this._array(15&t):this._str(31&t);if(t>223)return-1*(255-t+1);switch(t){case 192:return null;case 194:return!1;case 195:return!0;case 196:return n=this._view.getUint8(this._offset),this._offset+=1,this._bin(n);case 197:return n=this._view.getUint16(this._offset),this._offset+=2,this._bin(n);case 198:return n=this._view.getUint32(this._offset),this._offset+=4,this._bin(n);case 199:return n=this._view.getUint8(this._offset),r=this._view.getInt8(this._offset+1),this._offset+=2,[r,this._bin(n)];case 200:return n=this._view.getUint16(this._offset),r=this._view.getInt8(this._offset+2),this._offset+=3,[r,this._bin(n)];case 201:return n=this._view.getUint32(this._offset),r=this._view.getInt8(this._offset+4),this._offset+=5,[r,this._bin(n)];case 202:return e=this._view.getFloat32(this._offset),this._offset+=4,e;case 203:return e=this._view.getFloat64(this._offset),this._offset+=8,e;case 204:return e=this._view.getUint8(this._offset),this._offset+=1,e;case 205:return e=this._view.getUint16(this._offset),this._offset+=2,e;case 206:return e=this._view.getUint32(this._offset),this._offset+=4,e;case 207:return o=this._view.getUint32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,o+i;case 208:return e=this._view.getInt8(this._offset),this._offset+=1,e;case 209:return e=this._view.getInt16(this._offset),this._offset+=2,e;case 210:return e=this._view.getInt32(this._offset),this._offset+=4,e;case 211:return o=this._view.getInt32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,o+i;case 212:return r=this._view.getInt8(this._offset),this._offset+=1,0===r?void(this._offset+=1):[r,this._bin(1)];case 213:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(2)];case 214:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(4)];case 215:return r=this._view.getInt8(this._offset),this._offset+=1,0===r?(o=this._view.getInt32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,new Date(o+i)):[r,this._bin(8)];case 216:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(16)];case 217:return n=this._view.getUint8(this._offset),this._offset+=1,this._str(n);case 218:return n=this._view.getUint16(this._offset),this._offset+=2,this._str(n);case 219:return n=this._view.getUint32(this._offset),this._offset+=4,this._str(n);case 220:return n=this._view.getUint16(this._offset),this._offset+=2,this._array(n);case 221:return n=this._view.getUint32(this._offset),this._offset+=4,this._array(n);case 222:return n=this._view.getUint16(this._offset),this._offset+=2,this._map(n);case 223:return n=this._view.getUint32(this._offset),this._offset+=4,this._map(n)}throw new Error("Could not parse")},e.exports=i},function(e,t,n){function o(e,t,n){for(var r=0,o=0,i=n.length;o<i;o++)r=n.charCodeAt(o),r<128?e.setUint8(t++,r):r<2048?(e.setUint8(t++,192|r>>6),e.setUint8(t++,128|63&r)):r<55296||r>=57344?(e.setUint8(t++,224|r>>12),e.setUint8(t++,128|r>>6&63),e.setUint8(t++,128|63&r)):(o++,r=65536+((1023&r)<<10|1023&n.charCodeAt(o)),e.setUint8(t++,240|r>>18),e.setUint8(t++,128|r>>12&63),e.setUint8(t++,128|r>>6&63),e.setUint8(t++,128|63&r))}function i(e){for(var t=0,n=0,r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function a(e,t,n){var o=Object(r["a"])(n),s=0,c=0,u=0,l=0,f=0,h=0;if("string"===o){if((f=i(n))<32)e.push(160|f),h=1;else if(f<256)e.push(217,f),h=2;else if(f<65536)e.push(218,f>>8,f),h=3;else{if(!(f<4294967296))throw new Error("String too long");e.push(219,f>>24,f>>16,f>>8,f),h=5}return t.push({_str:n,_length:f,_offset:e.length}),h+f}if("number"===o)return Math.floor(n)===n&&isFinite(n)?n>=0?n<128?(e.push(n),1):n<256?(e.push(204,n),2):n<65536?(e.push(205,n>>8,n),3):n<4294967296?(e.push(206,n>>24,n>>16,n>>8,n),5):(u=n/Math.pow(2,32)>>0,l=n>>>0,e.push(207,u>>24,u>>16,u>>8,u,l>>24,l>>16,l>>8,l),9):n>=-32?(e.push(n),1):n>=-128?(e.push(208,n),2):n>=-32768?(e.push(209,n>>8,n),3):n>=-2147483648?(e.push(210,n>>24,n>>16,n>>8,n),5):(u=Math.floor(n/Math.pow(2,32)),l=n>>>0,e.push(211,u>>24,u>>16,u>>8,u,l>>24,l>>16,l>>8,l),9):(e.push(203),t.push({_float:n,_length:8,_offset:e.length}),9);if("object"===o){if(null===n)return e.push(192),1;if(Array.isArray(n)){if((f=n.length)<16)e.push(144|f),h=1;else if(f<65536)e.push(220,f>>8,f),h=3;else{if(!(f<4294967296))throw new Error("Array too large");e.push(221,f>>24,f>>16,f>>8,f),h=5}for(s=0;s<f;s++)h+=a(e,t,n[s]);return h}if(n instanceof Date){var d=n.getTime();return u=Math.floor(d/Math.pow(2,32)),l=d>>>0,e.push(215,0,u>>24,u>>16,u>>8,u,l>>24,l>>16,l>>8,l),10}if(n instanceof ArrayBuffer){if((f=n.byteLength)<256)e.push(196,f),h=2;else if(f<65536)e.push(197,f>>8,f),h=3;else{if(!(f<4294967296))throw new Error("Buffer too large");e.push(198,f>>24,f>>16,f>>8,f),h=5}return t.push({_bin:n,_length:f,_offset:e.length}),h+f}if("function"==typeof n.toJSON)return a(e,t,n.toJSON());var p=[],m="",v=Object.keys(n);for(s=0,c=v.length;s<c;s++)m=v[s],"function"!=typeof n[m]&&p.push(m);if((f=p.length)<16)e.push(128|f),h=1;else if(f<65536)e.push(222,f>>8,f),h=3;else{if(!(f<4294967296))throw new Error("Object too large");e.push(223,f>>24,f>>16,f>>8,f),h=5}for(s=0;s<f;s++)m=p[s],h+=a(e,t,m),h+=a(e,t,n[m]);return h}if("boolean"===o)return e.push(n?195:194),1;if("undefined"===o)return e.push(212,0,0),3;throw new Error("Could not encode")}function s(e){var t=[],n=[],r=a(t,n,e),i=new ArrayBuffer(r),s=new DataView(i),c=0,u=0,l=-1;n.length>0&&(l=n[0]._offset);for(var f,h=0,d=0,p=0,m=t.length;p<m;p++)if(s.setUint8(u+p,t[p]),p+1===l){if(f=n[c],h=f._length,d=u+l,f._bin)for(var v=new Uint8Array(f._bin),y=0;y<h;y++)s.setUint8(d+y,v[y]);else f._str?o(s,d,f._str):void 0!==f._float&&s.setFloat64(d,f._float);c++,u+=h,n[c]&&(l=n[c]._offset)}return i}e.exports=s},function(e,t,n){function r(){function e(e){return t.register(e,null===this)}var t=new o;return e.once=function(e){var n=function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];e.apply(void 0,r),t.remove(n)};t.register(n)},e.remove=function(e){return t.remove(e)},e.invoke=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.invoke.apply(t,e)},e.invokeAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.invokeAsync.apply(t,e)},e.clear=function(){return t.clear()},e}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.handlers=[]}return e.prototype.register=function(e,t){return void 0===t&&(t=!1),this.handlers.push(e),this},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.handlers.forEach((function(t){return t.apply(void 0,e)}))},e.prototype.invokeAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Promise.all(this.handlers.map((function(t){return t.apply(void 0,e)})))},e.prototype.remove=function(e){var t=this.handlers.indexOf(e);this.handlers[t]=this.handlers[this.handlers.length-1],this.handlers.pop()},e.prototype.clear=function(){this.handlers=[]},e}();t.EventEmitter=o,t.createSignal=r},function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(20)),s=i(n(3)),c=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t,void 0,{connect:n})||this;return r._enqueuedCalls=[],r}return r(t,e),t.prototype.onOpenCallback=function(t){if(e.prototype.onOpenCallback.call(this),this.binaryType="arraybuffer",this._enqueuedCalls.length>0){for(var n=0,r=this._enqueuedCalls;n<r.length;n++){var o=r[n],i=o[0],a=o[1];this[i].apply(this,a)}this._enqueuedCalls=[]}},t.prototype.send=function(t){if(this.ws.readyState===a.default.OPEN)return e.prototype.send.call(this,s.encode(t));this._enqueuedCalls.push(["send",[t]])},t}(a.default);t.Connection=c},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(21).createBackoff,a="undefined"!=typeof WebSocket?WebSocket:n(22),s=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.url=t,this.protocols=n,this.reconnectEnabled=!0,this.listeners={},this.backoff=i(o.backoff||"exponential",o),this.backoff.onReady=this.onBackoffReady.bind(this),(void 0===o.connect||o.connect)&&this.open()}return o(e,[{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isReconnect=e;var t=this.ws&&this.ws.binaryType;this.ws=new a(this.url,this.protocols),this.ws.onclose=this.onCloseCallback.bind(this),this.ws.onerror=this.onErrorCallback.bind(this),this.ws.onmessage=this.onMessageCallback.bind(this),this.ws.onopen=this.onOpenCallback.bind(this),t&&(this.ws.binaryType=t)}},{key:"onBackoffReady",value:function(e,t){this.open(!0)}},{key:"onCloseCallback",value:function(e){!this.isReconnect&&this.listeners.onclose&&this.listeners.onclose.apply(null,arguments),this.reconnectEnabled&&e.code<3e3&&this.backoff.backoff()}},{key:"onErrorCallback",value:function(){this.listeners.onerror&&this.listeners.onerror.apply(null,arguments)}},{key:"onMessageCallback",value:function(){this.listeners.onmessage&&this.listeners.onmessage.apply(null,arguments)}},{key:"onOpenCallback",value:function(){this.listeners.onopen&&this.listeners.onopen.apply(null,arguments),this.isReconnect&&this.listeners.onreconnect&&this.listeners.onreconnect.apply(null,arguments),this.isReconnect=!1}},{key:"close",value:function(e,t){void 0===e&&(e=1e3),this.reconnectEnabled=!1,this.ws.close(e,t)}},{key:"send",value:function(e){this.ws.send(e)}},{key:"bufferedAmount",get:function(){return this.ws.bufferedAmount}},{key:"readyState",get:function(){return this.ws.readyState}},{key:"binaryType",get:function(){return this.ws.binaryType},set:function(e){this.ws.binaryType=e}},{key:"extensions",get:function(){return this.ws.extensions},set:function(e){this.ws.extensions=e}},{key:"protocol",get:function(){return this.ws.protocol},set:function(e){this.ws.protocol=e}},{key:"onclose",set:function(e){this.listeners.onclose=e},get:function(){return this.listeners.onclose}},{key:"onerror",set:function(e){this.listeners.onerror=e},get:function(){return this.listeners.onerror}},{key:"onmessage",set:function(e){this.listeners.onmessage=e},get:function(){return this.listeners.onmessage}},{key:"onopen",set:function(e){this.listeners.onopen=e},get:function(){return this.listeners.onopen}},{key:"onreconnect",set:function(e){this.listeners.onreconnect=e},get:function(){return this.listeners.onreconnect}}]),e}();s.CONNECTING=a.CONNECTING,s.OPEN=a.OPEN,s.CLOSING=a.CLOSING,s.CLOSED=a.CLOSED,t.default=s},function(e,t,n){function r(e,t){return new o(i[e],t)}function o(e,t){this.func=e,this.attempts=0,this.delay=void 0!==t.initialDelay?t.initialDelay:100}Object.defineProperty(t,"__esModule",{value:!0}),t.createBackoff=r;var i={exponential:function(e,t){return Math.floor(Math.random()*Math.pow(2,e)*t)},fibonacci:function(e,t){var n=1;if(e>n)for(var r=1,o=(n=2,2);o<e;o++){var i=r+n;r=n,n=i}return Math.floor(Math.random()*n*t)}};o.prototype.backoff=function(){setTimeout(this.onReady,this.func(++this.attempts,this.delay))}},function(e,t){},function(e,t,n){function r(){return s||(s="undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:"undefined"!=typeof window&&window.localStorage?window.localStorage:{cache:{},setItem:function(e,t){this.cache[e]=t},getItem:function(e){this.cache[e]},removeItem:function(e){delete this.cache[e]}}),s}function o(e,t){r().setItem(e,t)}function i(e){r().removeItem(e)}function a(e,t){var n=r().getItem(e);"undefined"!=typeof Promise&&n instanceof Promise?n.then((function(e){return t(e)})):t(n)}var s;Object.defineProperty(t,"__esModule",{value:!0}),t.setItem=o,t.removeItem=i,t.getItem=a},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(a=2&n[0]?i.return:n[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,i=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.endpoint=e.replace("ws","http")}return e.prototype.register=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.check(),[4,this.registerServiceWorker()];case 1:return e.sent(),[4,this.requestNotificationPermission()];case 2:return e.sent(),[2]}}))}))},e.prototype.registerServiceWorker=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,navigator.serviceWorker.register(this.endpoint+"/push")];case 1:return[2,e.sent()]}}))}))},e.prototype.requestNotificationPermission=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,window.Notification.requestPermission()];case 1:if("granted"!==e.sent())throw new Error("Permission not granted for Notification");return[2]}}))}))},e.prototype.check=function(){if(!("serviceWorker"in navigator))throw new Error("No Service Worker support!");if(!("PushManager"in window))throw new Error("No Push API Support!")},e}();t.Push=i},function(e,t,n){var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),i=r(n(29)),a=r(n(3)),s=function(){function e(){this.api=new o.StateContainer({})}return e.prototype.getState=function(){return this.api.state},e.prototype.setState=function(e){this.previousState=new Uint8Array(e),this.api.set(a.decode(this.previousState))},e.prototype.patch=function(e){this.previousState=new Uint8Array(i.apply(this.previousState,e)),this.api.set(a.decode(this.previousState))},e.prototype.teardown=function(){this.api.removeAllListeners()},e}();t.FossilDeltaSerializer=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(27);t.StateContainer=r.StateContainer},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),o=function(){function e(e){this.listeners=[],this.matcherPlaceholders={":id":/^([a-zA-Z0-9\-_]+)$/,":number":/^([0-9]+)$/,":string":/^(\w+)$/,":axis":/^([xyz])$/,":*":/(.*)/},this.state=e,this.reset()}return e.prototype.set=function(e){var t=r.compare(this.state,e);return this.state=e,this.checkPatches(t,this.listeners,this.defaultListener),t},e.prototype.registerPlaceholder=function(e,t){this.matcherPlaceholders[e]=t},e.prototype.listen=function(e,t,n){var o,i=this;"function"==typeof e?(o=[],t=e):o=e.split("/"),t.length>1&&console.warn(".listen() accepts only one parameter.");var a={callback:t,rawRules:o,rules:o.map((function(e){return"string"==typeof e?0===e.indexOf(":")?i.matcherPlaceholders[e]||i.matcherPlaceholders[":*"]:new RegExp("^"+e+"$"):e}))};return 0===o.length?this.defaultListener=a:this.listeners.push(a),n&&this.checkPatches(r.compare({},this.state),[a]),a},e.prototype.removeListener=function(e){for(var t=this.listeners.length-1;t>=0;t--)this.listeners[t]===e&&this.listeners.splice(t,1)},e.prototype.removeAllListeners=function(){this.reset()},e.prototype.checkPatches=function(e,t,n){for(var r=0,o=t.length;r<o;r++)for(var i=t[r],a=e.length-1;a>=0;a--){var s=i&&this.getPathVariables(e[a],i);s&&(i.callback({path:s,rawPath:e[a].path,operation:e[a].operation,value:e[a].value}),e[a].matched=!0)}if(n)for(a=e.length-1;a>=0;a--)e[a].matched||n.callback(e[a])},e.prototype.getPathVariables=function(e,t){if(e.path.length!==t.rules.length)return!1;for(var n={},r=0,o=t.rules.length;r<o;r++){var i=e.path[r].match(t.rules[r]);if(!i||0===i.length||i.length>2)return!1;":"===t.rawRules[r].substr(0,1)&&(n[t.rawRules[r].substr(1)]=i[1])}return n},e.prototype.reset=function(){this.listeners=[]},e}();t.StateContainer=o},function(e,t,n){function o(e,t){var n=[];return s(e,t,n,[]),n}function i(e,t){var n=e.slice();return n.push(t),n}function a(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var o in e)e.hasOwnProperty(o)&&r.push(o);return r}function s(e,t,n,o){for(var c=a(t),u=a(e),l=!1,f=u.length-1;f>=0;f--){var h=u[f],d=e[h];if(!t.hasOwnProperty(h)||void 0===t[h]&&void 0!==d&&!1===Array.isArray(t))n.push({operation:"remove",path:i(o,h)}),l=!0;else{var p=t[h];"object"==Object(r["a"])(d)&&null!=d&&"object"==Object(r["a"])(p)&&null!=p?s(d,p,n,i(o,h)):d!==p&&n.push({operation:"replace",path:i(o,h),value:p,previousValue:d})}}if(l||c.length!=u.length)for(f=c.length-1;f>=0;f--){h=c[f];if(!e.hasOwnProperty(h)&&void 0!==t[h]){p=t[h];var m=i(o,h);"object"==Object(r["a"])(p)&&null!=p&&s({},p,n,m),n.push({operation:"add",path:m,value:p})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.compare=o},function(e,t){!function(t,n){void 0!==e&&e.exports?e.exports=n():t.fossilDelta=n()}(this,(function(){function e(){this.a=0,this.b=0,this.i=0,this.z=new Array(a)}function t(e){this.a=e,this.pos=0}function n(){this.a=[]}function r(e){var t,n;for(t=1,n=64;e>=n;t++,n<<=6);return t}function o(e){for(var t=0,n=0,r=0,o=0,i=0,a=e.length;a>=16;)t=t+e[i+0]|0,n=n+e[i+1]|0,r=r+e[i+2]|0,o=o+e[i+3]|0,t=t+e[i+4]|0,n=n+e[i+5]|0,r=r+e[i+6]|0,o=o+e[i+7]|0,t=t+e[i+8]|0,n=n+e[i+9]|0,r=r+e[i+10]|0,o=o+e[i+11]|0,t=t+e[i+12]|0,n=n+e[i+13]|0,r=r+e[i+14]|0,o=o+e[i+15]|0,i+=16,a-=16;for(;a>=4;)t=t+e[i+0]|0,n=n+e[i+1]|0,r=r+e[i+2]|0,o=o+e[i+3]|0,i+=4,a-=4;switch(o=((o+(r<<8)|0)+(n<<16)|0)+(t<<24)|0,a){case 3:o=o+(e[i+2]<<8)|0;case 2:o=o+(e[i+1]<<16)|0;case 1:o=o+(e[i+0]<<24)|0}return o>>>0}var i={},a=16;e.prototype.init=function(e,t){var n,r,o=0,i=0;for(n=0;n<a;n++)r=e[t+n],o=o+r&65535,i=i+(a-n)*r&65535,this.z[n]=r;this.a=65535&o,this.b=65535&i,this.i=0},e.prototype.next=function(e){var t=this.z[this.i];this.z[this.i]=e,this.i=this.i+1&a-1,this.a=this.a-t+e&65535,this.b=this.b-a*t+this.a&65535},e.prototype.value=function(){return(65535&this.a|(65535&this.b)<<16)>>>0};var s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz~".split("").map((function(e){return e.charCodeAt(0)})),c=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,36,-1,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,-1,-1,-1,63,-1];return t.prototype.haveBytes=function(){return this.pos<this.a.length},t.prototype.getByte=function(){var e=this.a[this.pos];if(++this.pos>this.a.length)throw new RangeError("out of bounds");return e},t.prototype.getChar=function(){return String.fromCharCode(this.getByte())},t.prototype.getInt=function(){for(var e,t=0;this.haveBytes()&&(e=c[127&this.getByte()])>=0;)t=(t<<6)+e;return this.pos--,t>>>0},n.prototype.toArray=function(){return this.a},n.prototype.putByte=function(e){this.a.push(255&e)},n.prototype.putChar=function(e){this.putByte(e.charCodeAt(0))},n.prototype.putInt=function(e){var t,n,r=[];if(0!==e){for(t=0;e>0;t++,e>>>=6)r.push(s[63&e]);for(n=t-1;n>=0;n--)this.putByte(r[n])}else this.putChar("0")},n.prototype.putArray=function(e,t,n){for(var r=t;r<n;r++)this.a.push(e[r])},i.create=function(t,i){var s,c=new n,u=i.length,l=t.length,f=-1;if(c.putInt(u),c.putChar("\n"),l<=a)return c.putInt(u),c.putChar(":"),c.putArray(i,0,u),c.putInt(o(i)),c.putChar(";"),c.toArray();var h=Math.ceil(l/a),d=new Array(h),p=new Array(h);for(s=0;s<d.length;s++)d[s]=-1;for(s=0;s<p.length;s++)p[s]=-1;var m,v=new e;for(s=0;s<l-a;s+=a)v.init(t,s),m=v.value()%h,d[s/a]=p[m],p[m]=s/a;for(var y,g,_,b,w,C=0;C+a<u;)for(b=0,w=0,v.init(i,C),s=0,_=0;;){var O=250;for(m=v.value()%h,g=p[m];g>=0&&O-- >0;){var S,P,k,I,A,x,R,j;for(y=g*a,I=0,x=y,R=C+s;x<l&&R<u&&t[x]===i[R];I++,x++,R++);for(I--,A=1;A<y&&A<=s&&t[y-A]===i[C+s-A];A++);A--,P=y-A,S=I+A+1,k=s-A,j=r(s-A)+r(S)+r(P)+3,S>=j&&S>_&&(_=S,b=y-A,w=k),g=d[g]}if(_>0){w>0&&(c.putInt(w),c.putChar(":"),c.putArray(i,C,C+w),C+=w),C+=_,c.putInt(_),c.putChar("@"),c.putInt(b),c.putChar(","),b+_-1>f&&(f=b+_-1),_=0;break}if(C+s+a>=u){c.putInt(u-C),c.putChar(":"),c.putArray(i,C,C+u-C),C=u;break}v.next(i[C+s+a]),s++}return C<u&&(c.putInt(u-C),c.putChar(":"),c.putArray(i,C,C+u-C)),c.putInt(o(i)),c.putChar(";"),c.toArray()},i.outputSize=function(e){var n=new t(e),r=n.getInt();if("\n"!==n.getChar())throw new Error("size integer not terminated by '\\n'");return r},i.apply=function(e,r,i){var a,s=0,c=new t(r),u=e.length,l=r.length;if(a=c.getInt(),"\n"!==c.getChar())throw new Error("size integer not terminated by '\\n'");for(var f=new n;c.haveBytes();){var h,d;switch(h=c.getInt(),c.getChar()){case"@":if(d=c.getInt(),c.haveBytes()&&","!==c.getChar())throw new Error("copy command not terminated by ','");if((s+=h)>a)throw new Error("copy exceeds output file size");if(d+h>u)throw new Error("copy extends past end of input");f.putArray(e,d,d+h);break;case":":if((s+=h)>a)throw new Error("insert command gives an output larger than predicted");if(h>l)throw new Error("insert count exceeds size of delta");f.putArray(c.a,c.pos,c.pos+h),c.pos+=h;break;case";":var p=f.toArray();if((!i||!1!==i.verifyChecksum)&&h!==o(p))throw new Error("bad checksum");if(s!==a)throw new Error("generated size does not match predicted size");return p;default:throw new Error("unknown delta operator")}}throw new Error("unterminated delta")},i}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),o=function(){function e(){}return e.prototype.setState=function(e){this.state.decode(e)},e.prototype.getState=function(){return this.state},e.prototype.patch=function(e){this.state.decode(e)},e.prototype.teardown=function(){},e.prototype.handshake=function(e){this.state?(new r.Reflection).decode(e):this.state=r.Reflection.decode(e)},e}();t.SchemaSerializer=o},function(e,t,n){function r(e){for(var t=0,n=0,r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function o(e,t,n){for(var r=0,o=0,i=n.length;o<i;o++)r=n.charCodeAt(o),r<128?e[t++]=r:r<2048?(e[t++]=192|r>>6,e[t++]=128|63&r):r<55296||r>=57344?(e[t++]=224|r>>12,e[t++]=128|r>>6&63,e[t++]=128|63&r):(o++,r=65536+((1023&r)<<10|1023&n.charCodeAt(o)),e[t++]=240|r>>18,e[t++]=128|r>>12&63,e[t++]=128|r>>6&63,e[t++]=128|63&r)}function i(e,t){e.push(255&t)}function a(e,t){e.push(255&t)}function s(e,t){e.push(255&t),e.push(t>>8&255)}function c(e,t){e.push(255&t),e.push(t>>8&255)}function u(e,t){e.push(255&t),e.push(t>>8&255),e.push(t>>16&255),e.push(t>>24&255)}function l(e,t){var n=t>>24,r=t>>16,o=t>>8,i=t;e.push(255&i),e.push(255&o),e.push(255&r),e.push(255&n)}function f(e,t){var n=Math.floor(t/Math.pow(2,32));l(e,t>>>0),l(e,n)}function h(e,t){var n=t/Math.pow(2,32)>>0;l(e,t>>>0),l(e,n)}function d(e,t){m(e,t)}function p(e,t){v(e,t)}function m(e,t){C[0]=t,u(e,w[0])}function v(e,t){O[0]=t,u(e,w[b?0:1]),u(e,w[b?1:0])}function y(e,t){return a(e,t?1:0)}function g(e,t){t||(t="");var n=r(t),i=0;if(n<32)e.push(160|n),i=1;else if(n<256)e.push(217),a(e,n),i=2;else if(n<65536)e.push(218),c(e,n),i=3;else{if(!(n<4294967296))throw new Error("String too long");e.push(219),l(e,n),i=5}return o(e,e.length,t),i+n}function _(e,t){return isNaN(t)?_(e,0):isFinite(t)?t!==(0|t)?(e.push(203),v(e,t),9):t>=0?t<128?(a(e,t),1):t<256?(e.push(204),a(e,t),2):t<65536?(e.push(205),c(e,t),3):t<4294967296?(e.push(206),l(e,t),5):(e.push(207),h(e,t),9):t>=-32?(e.push(t),1):t>=-128?(e.push(208),i(e,t),2):t>=-32768?(e.push(209),s(e,t),3):t>=-2147483648?(e.push(210),u(e,t),5):(e.push(211),f(e,t),9):_(e,t>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}Object.defineProperty(t,"__esModule",{value:!0}),t.utf8Write=o,t.int8=i,t.uint8=a,t.int16=s,t.uint16=c,t.int32=u,t.uint32=l,t.int64=f,t.uint64=h,t.float32=d,t.float64=p;var b=!0,w=new Int32Array(2),C=new Float32Array(w.buffer),O=new Float64Array(w.buffer);t.writeFloat32=m,t.writeFloat64=v,t.boolean=y,t.string=g,t.number=_},function(e,t,n){function r(e,t,n){for(var r="",o=0,i=t,a=t+n;i<a;i++){var s=e[i];if(0!=(128&s))if(192!=(224&s))if(224!=(240&s)){if(240!=(248&s))throw new Error("Invalid byte "+s.toString(16));o=(7&s)<<18|(63&e[++i])<<12|(63&e[++i])<<6|(63&e[++i])<<0,o>=65536?(o-=65536,r+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):r+=String.fromCharCode(o)}else r+=String.fromCharCode((15&s)<<12|(63&e[++i])<<6|(63&e[++i])<<0);else r+=String.fromCharCode((31&s)<<6|63&e[++i]);else r+=String.fromCharCode(s)}return r}function o(e,t){return i(e,t)<<24>>24}function i(e,t){return e[t.offset++]}function a(e,t){return s(e,t)<<16>>16}function s(e,t){return e[t.offset++]|e[t.offset++]<<8}function c(e,t){return e[t.offset++]|e[t.offset++]<<8|e[t.offset++]<<16|e[t.offset++]<<24}function u(e,t){return c(e,t)>>>0}function l(e,t){return p(e,t)}function f(e,t){return m(e,t)}function h(e,t){var n=u(e,t);return c(e,t)*Math.pow(2,32)+n}function d(e,t){var n=u(e,t);return u(e,t)*Math.pow(2,32)+n}function p(e,t){return k[0]=c(e,t),I[0]}function m(e,t){return k[P?0:1]=c(e,t),k[P?1:0]=c(e,t),A[0]}function v(e,t){return i(e,t)>0}function y(e,t){var n,o=e[t.offset++];o<192?n=31&o:217===o?n=i(e,t):218===o?n=s(e,t):219===o&&(n=u(e,t));var a=r(e,t.offset,n);return t.offset+=n,a}function g(e,t){var n=e[t.offset];return n<192&&n>160||217===n||218===n||219===n}function _(e,t){var n=e[t.offset++];return n<128?n:202===n?p(e,t):203===n?m(e,t):204===n?i(e,t):205===n?s(e,t):206===n?u(e,t):207===n?d(e,t):208===n?o(e,t):209===n?a(e,t):210===n?c(e,t):211===n?h(e,t):n>223?-1*(255-n+1):void 0}function b(e,t){var n=e[t.offset];return n<128||n>=202&&n<=211}function w(e,t){return e[t.offset]<160}function C(e,t){return e[t.offset]===S.NIL}function O(e,t){return e[t.offset]===S.INDEX_CHANGE}Object.defineProperty(t,"__esModule",{value:!0});var S=n(10);t.int8=o,t.uint8=i,t.int16=a,t.uint16=s,t.int32=c,t.uint32=u,t.float32=l,t.float64=f,t.int64=h,t.uint64=d;var P=!0,k=new Int32Array(2),I=new Float32Array(k.buffer),A=new Float64Array(k.buffer);t.readFloat32=p,t.readFloat64=m,t.boolean=v,t.string=y,t.stringCheck=g,t.number=_,t.numberCheck=b,t.arrayCheck=w,t.nilCheck=C,t.indexChangeCheck=O},function(e,t,n){var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==("undefined"===typeof Reflect?"undefined":Object(r["a"])(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),s=n(0),c=n(1),u=n(2),l=new a.Context,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),i([a.type("string",l)],t.prototype,"name",void 0),i([a.type("string",l)],t.prototype,"type",void 0),i([a.type("uint8",l)],t.prototype,"referencedType",void 0),t}(s.Schema);t.ReflectionField=f;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fields=new c.ArraySchema,t}return o(t,e),i([a.type("uint8",l)],t.prototype,"id",void 0),i([a.type([f],l)],t.prototype,"fields",void 0),t}(s.Schema);t.ReflectionType=h;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.types=new c.ArraySchema,t}return o(t,e),t.encode=function(e){var n=e.constructor,r=new t;r.rootType=n._typeid;var o=n._context.types;for(var i in o){var a=new h;a.id=Number(i),function(e,t){for(var n in t){var o=new f;o.name=n;var i=void 0;if("string"==typeof t[n])i=t[n];else{var a="function"==typeof t[n],s=Array.isArray(t[n]),c=!s&&t[n].map,u=void 0;a?(i="ref",u=t[n]):s?(i="array","string"==typeof t[n][0]?i+=":"+t[n][0]:u=t[n][0]):c&&(i="map","string"==typeof t[n].map?i+=":"+t[n].map:u=t[n].map),o.referencedType=u?u._typeid:255}o.type=i,e.fields.push(o)}r.types.push(e)}(a,o[i]._schema)}return r.encodeAll()},t.decode=function(e){var n=new a.Context,r=new t;r.decode(e);var i=r.types.reduce((function(e,t){return e[t.id]=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(s.Schema),e}),{});r.types.forEach((function(e,t){e.fields.forEach((function(t){var r=i[e.id];if(void 0!==t.referencedType){var o=i[t.referencedType];o||(o=t.type.split(":")[1]),0===t.type.indexOf("array")?a.type([o],n)(r.prototype,t.name):0===t.type.indexOf("map")?a.type({map:o},n)(r.prototype,t.name):"ref"===t.type&&a.type(o,n)(r.prototype,t.name)}else a.type(t.type,n)(r.prototype,t.name)}))}));var l=i[r.rootType],f=new l;for(var h in l._schema){var d=l._schema[h];if("string"!=typeof d){var p="function"==typeof d,m=Array.isArray(d),v=!m&&d.map;f[h]=m?new c.ArraySchema:v?new u.MapSchema:p?new d:void 0}}return f},i([a.type([h],l)],t.prototype,"types",void 0),i([a.type("uint8",l)],t.prototype,"rootType",void 0),t}(s.Schema);t.Reflection=d}])})),t["a"]=Colyseus}).call(this,n("dd40")(e))},9245:function(e,t,n){"use strict";var r=n("93e8"),o=n.n(r);o.a},"93e8":function(e,t,n){}});
//# sourceMappingURL=app.874631ca.js.map